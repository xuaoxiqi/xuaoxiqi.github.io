---
layout: main
description: Research on OpenACC.
title: Research_OpenACC
---
    <div id="divTitleNav">
        <a href="./research.html"><img src="./images/left-arrow.png" class="navDock" /></a>
    </div>
    
<div id="divPost">

    <article id="articlePost">
    <br/>
 
    <h2>Open Accelerators (OpenACC)</h2>
            <hr/>

    <p>
Open Accelerators (OpenACC) is a programming standard for parallel computing of heterogeneous CPU/GPU system.
    </p>
    
    <h3>Sample OpenACC code</h3>

    <h4>Calculate Pi</h4>
    <embed src="./codes/calPi_OpenACC.F90" width="88%">
            
    <h4>Compile</h4>
<p>Example to compile OpenACC code:</p>
			<pre> <code>
$ nvfortran -acc=gpu -Minfo=all calPi_OpenACC.F90 -o calPi
<del>Obsolete: $ pgf90 -acc -ta=tesla:cc35 -Minfo=all calPi_OpenACC.F90 -o calPi</del>
			</code> </pre>

<p>Note: As of August 5, 2020, the "PGI Compilers and Tools" technology is a part of the NVIDIA HPC SDK product available as a free download from NVIDIA
(see the news at <a href="https://news.developer.nvidia.com/hpc-sdk-ga-2020/">https://news.developer.nvidia.com/hpc-sdk-ga-2020/</a>)</p>

    <h4>Running</h4>
			<pre> <code>
nohup ./calPi &
			</code> </pre>
            
    On Tianhe-2:
    
#!/bin/bash
module load PGIcompiler/17.1
yhrun -n 1 -N 1 -p gpu ./lidACC


    yhbatch -N 1 -p gpu ./job.sh
    
            
    <h3>Example: Accelerated lattice Boltzmann simulation using OpenACC</h3>
    <p>
In these tests, the mesh size 2048*2048, and the iterative steps are 20,000.
The collision models are multiple-relaxation-time (MRT) models.
All the simulations use <b>double-precision floating point arithmetic</b>.
The following table gives performance comparison between CPU and GPU based LB algorithm implementation.
Here, <b>MLUPS</b> is short for <i>million lattice updates per second</i>.
(Ref: <a href="http://dx.doi.org/10.1016/j.ijheatmasstransfer.2017.02.032" target="_blank">Xu, 2017, Int. J. Heat Mass Transf.</a>)
    </p>
    <img src="./images/research/HPC/OpenACC/CPUvsGPU.jpg" width="49%"></img>
    
            
<p>Running PGI-supplied tool $ pgaccelinfo</p>
    <img src="./images/research/HPC/OpenACC/Tesla_K20c.png" width="30%"></img>
    <img src="./images/research/HPC/OpenACC/Tesla_K40c.png" width="30%"></img>
    <img src="./images/research/HPC/OpenACC/compare.png" width="40%"></img>
    
<p>Cuda toolkit and minimum required compatible driver versions</p>
    <img src="./images/research/HPC/OpenACC/cudaVersion.png" width="30%"></img>

<p>Compute capability support</p>
    <img src="./images/research/HPC/OpenACC/cudaComputing.png" width="70%"></img>

    <h3>High performance computing techniques (Read more...)</h3>
        <ul class="ulResearch">
            <li class="liResearch"><a href="./research_HPC_OpenMP.html">Open Multi-Processing (OpenMP)</a></li>
            <li class="liResearch"><a href="./research_HPC_MPI.html">Message Passing Interface (MPI)</a></li>
            <li class="liResearch"><a href="./research_HPC_OpenACC.html">Open Accelerators (OpenACC)</a></li>
        </ul>
        
    
    </article>
    
    <div class="div0"></div>
    
</div>
