---
layout: main
description: Research on MPI.
title: Research_MPI
---
    <div id="divTitleNav">
        <a href="./research.html"><img src="./images/left-arrow.png" class="navDock" /></a>
    </div>
    
<div id="divPost">

    <article id="articlePost">
    <br/>
 
    <h2>Message Passing Interface (MPI)</h2>
            <hr/>

    <p>
Message Passing Interface (MPI) supports distributed memory system consisting of multiple computers with independent memory.
    </p>
    
    <h3>Sample MPI code</h3>
    
    <h4>Calculate Pi</h4>
    <embed src="./codes/calPi_MPI_OpenMP.F90" width="88%">
    
    <h4>Compile</h4>
			<pre> <code>
$ <font color="red">mpif90</font> -O2 calPi_MPI.F90 -o calPi
$ <font color="red">mpiifort</font> -O2 calPi_MPI.F90 -o calPi
$ mpirun -np 8 ./calPi
			</code> </pre>
    
    <h4>Compile with OpenMP</h4>
			<pre> <code>
On Tianhe-2:
$ <font color="red">mpif90</font> -openmp <font color="blue">-heap-arrays</font> -O2 calPi_MPI.F90 -o calPi
job.sh file:
#!/bin/bash
export OMP_NUM_THREADS=12 && yhrun -N 2 -n 4 -c 12 -p bigdata ./calPi
Running:
yhbatch -N 2 -p bigdata ./job.sh


$ <font color="red">mpif90</font> -fopenmp -O2 calPi_MPI.F90 -o calPi
$ <font color="red">mpiifort</font> -qopenmp -O2 calPi_MPI.F90 -o calPi
#!/bin/bash
#SBATCH -N 2 -n 2
export OMP_NUM_THREADS=3 && mpirun -np 2 ./calPi
			</code> </pre>
    
    <h3>High performance computing techniques (Read more...)</h3>
        <ul class="ulResearch">
            <li class="liResearch"><a href="./research_HPC_OpenMP.html">Open Multi-Processing (OpenMP)</a></li>
            <li class="liResearch"><a href="./research_HPC_MPI.html">Message Passing Interface (MPI)</a></li>
            <li class="liResearch"><a href="./research_HPC_OpenACC.html">Open Accelerators (OpenACC)</a></li>
        </ul>
        
    </article>
    
    <div class="div0"></div>
    
</div>
